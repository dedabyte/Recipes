(this.webpackJsonprecipesx=this.webpackJsonprecipesx||[]).push([[0],{10:function(e,t,a){e.exports={wrap:"SlideIn_wrap__1PUfU",active:"SlideIn_active__3yx6B",back:"SlideIn_back__1Rcr4"}},12:function(e,t,a){e.exports={wrap:"Paragraph_wrap__N3xmS",title:"Paragraph_title__1vwUR",p:"Paragraph_p__r8mOW"}},16:function(e,t,a){e.exports={tag:"TagList_tag__18A-U"}},28:function(e,t,a){e.exports={wrap:"Image_wrap__Su3u-"}},29:function(e,t,a){e.exports={app:"App_app__3maBR"}},31:function(e,t,a){e.exports=a(60)},5:function(e,t,a){e.exports={wrap:"YouTube_wrap__12Ux0",videoContainer:"YouTube_videoContainer__5VVIo",cover:"YouTube_cover__eRZ2M",coverOverlay:"YouTube_coverOverlay__1TiHr",coverImage:"YouTube_coverImage__15yvU",playIcon:"YouTube_playIcon__1WyrH"}},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n,r=a(6),c=a(0),i=a.n(c),o=a(11),l=a.n(o),u=a(3),s=a(27),m=a.n(s),p=function(e){return"https://recipes-ccae2.firebaseio.com/".concat(e,".json?auth=KdZC0TV3sNDv7pkNLfyYyT6um8bjFm84GUYqcxPl")};!function(e){e.DATA="data"}(n||(n={}));var d,v=function(e){return"".concat("recipes_").concat(e)},f=function(e,t){return localStorage.setItem(v(e),JSON.stringify(t))},_={isLoading:!1,isError:!1,data:function(e){var t=localStorage.getItem(v(e));return t?JSON.parse(t):null}(n.DATA)||[]},g=Object(r.b)({name:"data",initialState:_,reducers:{dataRequest:function(e){e.isLoading=!0,e.isError=!1},dataSuccess:function(e,t){e.isLoading=!1,e.isError=!1,e.data=t.payload.data,f(n.DATA,t.payload.data)},dataError:function(e){e.isLoading=!1,e.isError=!0}}}),E=g.actions,b=(E.dataRequest,E.dataSuccess),y=(E.dataError,g.reducer),w=null,h=Object(r.b)({name:"slideIn",initialState:{isActive:!1},reducers:{activate:{reducer:function(e){e.isActive=!0},prepare:function(e){return function(e){w=e}(e),{payload:null}}},deactivate:function(e){e.isActive=!1}}}),I=h.actions,N=I.activate,k=I.deactivate,j=h.reducer,O=function(e){return e.replace("imgur.com","i.imgur.com")+"s.jpg"},A=a(4),x=a.n(A),S=a(28),R=a.n(S),T=function(e){var t=e.url,a=e.klass,n=x()(R.a.wrap,a);return i.a.createElement("div",{className:n,style:{backgroundImage:"url(".concat(t,")")}})};!function(e){e.INGREDIENTS="ingredients",e.PARAGRAPH="paragraph",e.YOUTUBE="youtube",e.LINK="link"}(d||(d={}));var C=a(16),L=a.n(C),P=function(e){var t=e.tags,a=void 0===t?[]:t,n=e.keyPrefix,r=e.klass;if(!a.length)return null;var c=x()(L.a.wrap,r);return i.a.createElement("div",{className:c},a.map((function(e,t){return i.a.createElement("span",{className:L.a.tag,key:"tag-".concat(n,"-").concat(t)},e)})))},U=a(7),q=a.n(U),D=function(e){var t=e.recipeContent,a=t.title,n=void 0===a?"Sastojci":a,r=function(e){var t=[];return e?(e.split("\n").forEach((function(e){if(e=e.trim()){var a=e.split(":");if(1===a.length)t.push({quantity:null,value:a[0]});else{var n=a[0].trim();a.shift();var r=a.join(":").trim();t.push({quantity:n,value:r})}}})),t):t}(t.content);return i.a.createElement("div",{className:q.a.wrap},i.a.createElement("div",{className:q.a.title},n),i.a.createElement("table",{className:q.a.table},i.a.createElement("tbody",null,r.map((function(e,a){return i.a.createElement("tr",{key:"".concat(t.id,"-ingredient-").concat(a)},i.a.createElement("td",{className:q.a.quantity},e.quantity),i.a.createElement("td",{className:q.a.value},e.value))})))))},Y=a(12),V=a.n(Y),W=function(e){var t=e.recipeContent,a=t.title,n=void 0===a?"Priprema":a,r=function(e){var t=[];return e?(e.split("\n").forEach((function(e){(e=e.trim())&&t.push(e)})),t):t}(t.content);return i.a.createElement("div",{className:V.a.wrap},i.a.createElement("div",{className:V.a.title},n),r.map((function(e,a){return i.a.createElement("p",{key:"".concat(t.id,"-paragraph-").concat(a),className:V.a.p},e)})))},B=a(8),G=a.n(B),H=a(30),J=a(5),F=a.n(J),K=function(e){return"https://www.youtube.com/embed/".concat(e,"?autoplay=1")},M=function(e){return"https://i1.ytimg.com/vi/".concat(e,"/0.jpg")},Z=function(e){return e.slideIn.isActive},$=function(e){var t=e.recipeContent,a=Object(u.c)(Z),n=Object(c.useState)(!1),r=Object(H.a)(n,2),o=r[0],l=r[1];Object(c.useEffect)((function(){a||l(!1)}),[a]);var s=t.content;if(!s)return null;var m=function(e){var t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null}(s);if(!m)return null;var p=function(){return l(!0)};return i.a.createElement("div",{className:F.a.wrap},i.a.createElement("div",{className:F.a.videoContainer},o?i.a.createElement("iframe",{src:K(m),frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0,title:"youtube iframe"}):i.a.createElement("div",{className:F.a.cover,onClick:p},i.a.createElement(T,{url:M(m),klass:F.a.coverImage}),i.a.createElement("div",{className:F.a.coverOverlay},i.a.createElement("div",{className:F.a.playIcon})))))},z=function(e){var t,a=e.recipe;return i.a.createElement("div",{className:G.a.wrap},i.a.createElement(T,{klass:G.a.image,url:(t=a.imageUrl,t.replace("imgur.com","i.imgur.com")+".jpg")}),i.a.createElement("div",{className:G.a.title},a.title),i.a.createElement(P,{keyPrefix:"recipe",tags:a.tags,klass:G.a.tags}),i.a.createElement("div",{className:G.a.contentWrap},a.content.map((function(e){return function(e){switch(e.type){case d.INGREDIENTS:return i.a.createElement(D,{recipeContent:e,key:e.id});case d.YOUTUBE:return i.a.createElement($,{recipeContent:e,key:e.id});case d.PARAGRAPH:return i.a.createElement(W,{recipeContent:e,key:e.id});default:return null}}(e)}))))},Q=a(9),X=a.n(Q),ee=function(e){var t=e.recipe,a=t.title,n=t.imageUrl,r=t.tags,c=void 0===r?[]:r,o=Object(u.b)();return i.a.createElement("div",{className:X.a.wrap,onClick:function(){return o(N(i.a.createElement(z,{recipe:t})))}},i.a.createElement(T,{klass:X.a.image,url:O(n)}),i.a.createElement("div",{className:X.a.data},i.a.createElement("div",{className:X.a.title},a),i.a.createElement(P,{tags:c,keyPrefix:"listItem",klass:X.a.tags})))},te=function(){document.addEventListener("backbutton",ae,!1)},ae=function(e){re!==ne?(e.preventDefault(),re(),re=ne):navigator.app.exitApp()},ne=function(){},re=ne,ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;re=e},ie=function(e){return e.slideIn.isActive},oe=a(10),le=a.n(oe),ue=function(){var e=function(){var e=Object(u.b)();return{isActive:Object(u.c)(ie),component:w,deactivate:Object(c.useCallback)((function(){return e(k())}),[e])}}(),t=e.isActive,a=e.component,n=e.deactivate,r=Object(c.useRef)(null),o=function(){n(),ce()};Object(c.useEffect)((function(){r&&r.current&&r.current.scrollTo(0,0),ce(o)}),[a]);var l=x()(le.a.wrap,t&&le.a.active),s=x()(le.a.back,t&&le.a.active);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:l,ref:r},a),i.a.createElement("div",{className:s,onClick:o}))},se=a(29),me=a.n(se),pe=function(e){return e.data.data},de=function(){var e=Object(u.c)(pe),t=Object(u.b)();return Object(c.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return m.a.get(p(e))})("recipes").then((function(e){var a=e.data;console.log(a),t(b({data:Object.values(a)}))})).catch((function(e){return console.log(e)}))}),[]),i.a.createElement("div",{className:me.a.app},i.a.createElement("header",null),i.a.createElement("section",null,e.map((function(e,t){return i.a.createElement(ee,{key:"list-".concat(e.id),recipe:e})}))),i.a.createElement(ue,null))},ve=(a(59),a(2)),fe=Object(ve.c)({slideIn:j,data:y});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));document.addEventListener("deviceready",te,!1);var _e=Object(r.a)({reducer:fe});l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(u.a,{store:_e},i.a.createElement(de,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports={wrap:"Ingredients_wrap__1yIjA",title:"Ingredients_title__2a0We",table:"Ingredients_table__26189",quantity:"Ingredients_quantity__2vD4_",value:"Ingredients_value__1j7OH"}},8:function(e,t,a){e.exports={image:"RecipeView_image__3blqD",title:"RecipeView_title__2_p5f",tags:"RecipeView_tags__1iG9a",contentWrap:"RecipeView_contentWrap__3KVRm"}},9:function(e,t,a){e.exports={wrap:"ListItem_wrap__1nudd",image:"ListItem_image__3DErl",data:"ListItem_data__3cw49",title:"ListItem_title__11C99"}}},[[31,1,2]]]);
//# sourceMappingURL=main.b97cca3d.chunk.js.map