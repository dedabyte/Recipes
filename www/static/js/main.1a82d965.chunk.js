(this.webpackJsonprecipesx=this.webpackJsonprecipesx||[]).push([[0],{10:function(e,t,a){e.exports={wrap:"SlideIn_wrap__1PUfU",active:"SlideIn_active__3yx6B",back:"SlideIn_back__1Rcr4"}},12:function(e,t,a){e.exports={wrap:"Paragraph_wrap__N3xmS",title:"Paragraph_title__1vwUR",p:"Paragraph_p__r8mOW"}},16:function(e,t,a){e.exports={tag:"TagList_tag__18A-U"}},28:function(e,t,a){e.exports={wrap:"Image_wrap__Su3u-"}},29:function(e,t,a){e.exports={app:"App_app__3maBR"}},31:function(e,t,a){e.exports=a(60)},5:function(e,t,a){e.exports={wrap:"YouTube_wrap__12Ux0",videoContainer:"YouTube_videoContainer__5VVIo",cover:"YouTube_cover__eRZ2M",coverOverlay:"YouTube_coverOverlay__1TiHr",coverImage:"YouTube_coverImage__15yvU",playIcon:"YouTube_playIcon__1WyrH"}},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n,r=a(6),c=a(0),i=a.n(c),o=a(11),l=a.n(o),u=a(3),s=function(e){return e.forEach((function(e){e.content.forEach((function(t,a){var n;t.key="recipe-".concat(e.id,"-").concat(t.type,"-").concat(a),t.content=null===(n=t.content)||void 0===n?void 0:n.replace(/\t/gi,"")}))})),e},m=a(27),p=a.n(m),d=function(e){return"https://recipes-ccae2.firebaseio.com/".concat(e,".json?auth=KdZC0TV3sNDv7pkNLfyYyT6um8bjFm84GUYqcxPl")};!function(e){e.DATA="data"}(n||(n={}));var v,f=function(e){return"".concat("recipes_").concat(e)},_=function(e,t){return localStorage.setItem(f(e),JSON.stringify(t))},g={isLoading:!1,isError:!1,data:function(e){var t=localStorage.getItem(f(e));return t?JSON.parse(t):null}(n.DATA)||[]},E=Object(r.b)({name:"data",initialState:g,reducers:{dataRequest:function(e){e.isLoading=!0,e.isError=!1},dataSuccess:function(e,t){e.isLoading=!1,e.isError=!1,e.data=t.payload.data,_(n.DATA,t.payload.data)},dataError:function(e){e.isLoading=!1,e.isError=!0}}}),y=E.actions,b=(y.dataRequest,y.dataSuccess),w=(y.dataError,E.reducer),k=null,h=Object(r.b)({name:"slideIn",initialState:{isActive:!1},reducers:{activate:{reducer:function(e){e.isActive=!0},prepare:function(e){return function(e){k=e}(e),{payload:null}}},deactivate:function(e){e.isActive=!1}}}),I=h.actions,N=I.activate,j=I.deactivate,O=h.reducer,A=function(e){return e.replace("imgur.com","i.imgur.com")+"s.jpg"},x=a(4),S=a.n(x),R=a(28),T=a.n(R),C=function(e){var t=e.url,a=e.klass,n=S()(T.a.wrap,a);return i.a.createElement("div",{className:n,style:{backgroundImage:"url(".concat(t,")")}})};!function(e){e.INGREDIENTS="ingredients",e.PARAGRAPH="paragraph",e.YOUTUBE="youtube",e.LINK="link"}(v||(v={}));var L=a(16),P=a.n(L),U=function(e){var t=e.tags,a=void 0===t?[]:t,n=e.keyPrefix,r=e.klass;if(!a.length)return null;var c=S()(P.a.wrap,r);return i.a.createElement("div",{className:c},a.map((function(e,t){return i.a.createElement("span",{className:P.a.tag,key:"tag-".concat(n,"-").concat(t)},e)})))},q=a(7),D=a.n(q),Y=function(e){var t=e.recipeContent,a=t.title,n=void 0===a?"Sastojci":a,r=function(e){var t=[];return e?(e.split("\n").forEach((function(e){if(e=e.trim()){var a=e.split(":");if(1===a.length)t.push({quantity:null,value:a[0]});else{var n=a[0].trim();a.shift();var r=a.join(":").trim();t.push({quantity:n,value:r})}}})),t):t}(t.content);return i.a.createElement("div",{className:D.a.wrap},i.a.createElement("div",{className:D.a.title},n),i.a.createElement("table",{className:D.a.table},i.a.createElement("tbody",null,r.map((function(e,a){return i.a.createElement("tr",{key:"".concat(t.key,"-ingredient-").concat(a)},i.a.createElement("td",{className:D.a.quantity},e.quantity),i.a.createElement("td",{className:D.a.value},e.value))})))))},V=a(12),W=a.n(V),B=function(e){var t=e.recipeContent,a=t.title,n=void 0===a?"Priprema":a,r=function(e){var t=[];return e?(e.split("\n").forEach((function(e){(e=e.trim())&&t.push(e)})),t):t}(t.content);return i.a.createElement("div",{className:W.a.wrap},i.a.createElement("div",{className:W.a.title},n),r.map((function(e,a){return i.a.createElement("p",{key:"".concat(t.key,"-paragraph-").concat(a),className:W.a.p},e)})))},G=a(8),H=a.n(G),J=a(30),F=a(5),K=a.n(F),M=function(e){return"https://www.youtube.com/embed/".concat(e,"?autoplay=1")},Z=function(e){return"https://i1.ytimg.com/vi/".concat(e,"/0.jpg")},$=function(e){return e.slideIn.isActive},z=function(e){var t=e.recipeContent,a=Object(u.c)($),n=Object(c.useState)(!1),r=Object(J.a)(n,2),o=r[0],l=r[1];Object(c.useEffect)((function(){a||l(!1)}),[a]);var s=t.content;if(!s)return null;var m=function(e){var t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null}(s);if(!m)return null;var p=function(){return l(!0)};return i.a.createElement("div",{className:K.a.wrap},i.a.createElement("div",{className:K.a.videoContainer},o?i.a.createElement("iframe",{src:M(m),frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0,title:"youtube iframe"}):i.a.createElement("div",{className:K.a.cover,onClick:p},i.a.createElement(C,{url:Z(m),klass:K.a.coverImage}),i.a.createElement("div",{className:K.a.coverOverlay},i.a.createElement("div",{className:K.a.playIcon})))))},Q=function(e){var t,a=e.recipe;return i.a.createElement("div",{className:H.a.wrap},i.a.createElement(C,{klass:H.a.image,url:(t=a.imageUrl,t.replace("imgur.com","i.imgur.com")+".jpg")}),i.a.createElement("div",{className:H.a.title},a.title),i.a.createElement(U,{keyPrefix:"recipe",tags:a.tags,klass:H.a.tags}),i.a.createElement("div",{className:H.a.contentWrap},a.content.map((function(e){return function(e){switch(e.type){case v.INGREDIENTS:return i.a.createElement(Y,{recipeContent:e,key:e.key});case v.YOUTUBE:return i.a.createElement(z,{recipeContent:e,key:e.key});case v.PARAGRAPH:return i.a.createElement(B,{recipeContent:e,key:e.key});default:return null}}(e)}))))},X=a(9),ee=a.n(X),te=function(e){var t=e.recipe,a=t.title,n=t.imageUrl,r=t.tags,c=void 0===r?[]:r,o=Object(u.b)();return i.a.createElement("div",{className:ee.a.wrap,onClick:function(){return o(N(i.a.createElement(Q,{recipe:t})))}},i.a.createElement(C,{klass:ee.a.image,url:A(n)}),i.a.createElement("div",{className:ee.a.data},i.a.createElement("div",{className:ee.a.title},a),i.a.createElement(U,{tags:c,keyPrefix:"listItem",klass:ee.a.tags})))},ae=function(){document.addEventListener("backbutton",ne,!1)},ne=function(e){ce!==re?(e.preventDefault(),ce(),ce=re):navigator.app.exitApp()},re=function(){},ce=re,ie=function(e){return e.slideIn.isActive},oe=a(10),le=a.n(oe),ue=function(){var e=function(){var e=Object(u.b)();return{isActive:Object(u.c)(ie),component:k,deactivate:Object(c.useCallback)((function(){return e(j())}),[e])}}(),t=e.isActive,a=e.component,n=e.deactivate,r=Object(c.useRef)(null),o=function(){return n()};Object(c.useEffect)((function(){r&&r.current&&r.current.scrollTo(0,0),ce=o}),[a]);var l=S()(le.a.wrap,t&&le.a.active),s=S()(le.a.back,t&&le.a.active);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:l,ref:r},a),i.a.createElement("div",{className:s,onClick:o}))},se=a(29),me=a.n(se),pe=function(e){return e.data.data},de=function(){var e=Object(u.c)(pe),t=Object(u.b)();return Object(c.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return p.a.get(d(e))})("recipes").then((function(e){var a=e.data;console.log(a),t(b({data:s(a)}))})).catch((function(e){return console.log(e)}))}),[]),i.a.createElement("div",{className:me.a.app},i.a.createElement("header",null),i.a.createElement("section",null,e.map((function(e,t){return i.a.createElement(te,{key:"list-".concat(t,"-").concat(e.id),recipe:e})}))),i.a.createElement(ue,null))},ve=(a(59),a(2)),fe=Object(ve.c)({slideIn:O,data:w});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));document.addEventListener("deviceready",ae,!1);var _e=Object(r.a)({reducer:fe});l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(u.a,{store:_e},i.a.createElement(de,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports={wrap:"Ingredients_wrap__1yIjA",title:"Ingredients_title__2a0We",table:"Ingredients_table__26189",quantity:"Ingredients_quantity__2vD4_",value:"Ingredients_value__1j7OH"}},8:function(e,t,a){e.exports={image:"RecipeView_image__3blqD",title:"RecipeView_title__2_p5f",tags:"RecipeView_tags__1iG9a",contentWrap:"RecipeView_contentWrap__3KVRm"}},9:function(e,t,a){e.exports={wrap:"ListItem_wrap__1nudd",image:"ListItem_image__3DErl",data:"ListItem_data__3cw49",title:"ListItem_title__11C99"}}},[[31,1,2]]]);
//# sourceMappingURL=main.1a82d965.chunk.js.map